# é«˜æ€§èƒ½å›¾åƒå¤„ç†ä¸ä¼ è¾“ç³»ç»Ÿ v2.0

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ª**ä¼ä¸šçº§**çš„é«˜æ€§èƒ½å›¾åƒå¤„ç†ç³»ç»Ÿï¼Œé‡‡ç”¨Go + C++ + WebSocketæ··åˆæ¶æ„ï¼Œå®ç°äº†å®Œæ•´çš„å›¾åƒé‡‡é›†ã€å¤„ç†ã€ä¼ è¾“å’Œç®¡ç†åŠŸèƒ½é“¾ã€‚

### ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- âœ… **å®Œæ•´çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**: JWTä»¤ç‰Œè®¤è¯ï¼Œæ”¯æŒæ³¨å†Œ/ç™»å½•/æƒé™ç®¡ç†
- âœ… **é«˜æ€§èƒ½å¼‚æ­¥æ¶æ„**: APIç½‘å…³å¿«é€Ÿå“åº”ï¼ŒRedisé˜Ÿåˆ— + Workeræ± åå°å¤„ç†
- âœ… **å®æ—¶WebSocketé€šçŸ¥**: å›¾åƒå¤„ç†çŠ¶æ€å®æ—¶æ¨é€ï¼Œç”¨æˆ·ä½“éªŒæä½³
- âœ… **æ™ºèƒ½æ‘„åƒå¤´é‡‡é›†**: æ”¯æŒæ‘„åƒå¤´æšä¸¾ã€å®æ—¶é¢„è§ˆã€æ‹ç…§å’Œå½•åˆ¶
- âœ… **C++å›¾åƒå¤„ç†å¼•æ“**: OpenCVé«˜æ€§èƒ½å›¾åƒå‹ç¼©å’Œç¼©ç•¥å›¾ç”Ÿæˆ
- âœ… **Goæ™ºèƒ½å‹ç¼©**: å®¢æˆ·ç«¯è‡ªåŠ¨å›¾åƒä¼˜åŒ–ï¼Œå‡å°‘ä¼ è¾“è´Ÿè½½
- âœ… **HTTPSå®‰å…¨ä¼ è¾“**: æ”¯æŒSSL/TLSåŠ å¯†ä¼ è¾“
- âœ… **é«˜å¹¶å‘æ”¯æŒ**: ç»è¿‡æ€§èƒ½æµ‹è¯•ï¼Œæ”¯æŒ 1000+ QPS
- âœ… **å®Œæ•´å·¥ä½œæµ**: æ³¨å†Œ â†’ ç™»å½• â†’ é‡‡é›†/ä¸Šä¼  â†’ å®æ—¶å¤„ç† â†’ é€šçŸ¥æ¨é€ â†’ ç»“æœè·å–
- âœ… **æ™ºèƒ½å®¢æˆ·ç«¯**: äº¤äº’å¼CLIï¼Œæ‘„åƒå¤´æ”¯æŒï¼Œè‡ªåŠ¨å‹ç¼©ä¼˜åŒ–
- âœ… **å›¾åƒç®¡ç†**: åˆ†é¡µåˆ—è¡¨ã€çŠ¶æ€æŸ¥è¯¢ã€æ‰¹é‡æ“ä½œã€å®æ—¶é€šçŸ¥

## âš¡ å¿«é€Ÿå¯åŠ¨æŒ‡å—

### ğŸš€ ä¸€é”®å¯åŠ¨ï¼ˆæ¨èæ–°æ‰‹ï¼‰

```bash
# 1. è¿›å…¥æœåŠ¡å™¨ç›®å½•
cd icpt-system

# 2. ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡
chmod +x *.sh && ./start-services.sh

# 3. éªŒè¯ç³»ç»Ÿå¥åº·
./health-check.sh

# 4. ä½¿ç”¨å®¢æˆ·ç«¯
cd ../icpt-cli-client && ./bin/cli-client help
```

### ğŸ“‹ å¯åŠ¨æµç¨‹æ€»ç»“

| æ­¥éª¤ | å‘½ä»¤ | è¯´æ˜ |
|------|------|------|
| 1ï¸âƒ£ ç¯å¢ƒæ£€æŸ¥ | `./start-services.sh` | è‡ªåŠ¨æ£€æŸ¥MySQLã€Redisç­‰ä¾èµ– |
| 2ï¸âƒ£ å¯åŠ¨æœåŠ¡ | è‡ªåŠ¨æ‰§è¡Œ | APIæœåŠ¡å™¨(8080) + Workerè¿›ç¨‹ |
| 3ï¸âƒ£ å¥åº·æ£€æŸ¥ | `./health-check.sh` | 16é¡¹å…¨é¢ç³»ç»Ÿæ£€æŸ¥ |
| 4ï¸âƒ£ åœæ­¢æœåŠ¡ | `./stop-services.sh` | å®‰å…¨åœæ­¢æ‰€æœ‰æœåŠ¡ |

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½éªŒè¯

```bash
# ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
./bin/cli-client register
./bin/cli-client login

# å›¾åƒä¸Šä¼ å’Œå¤„ç†  
./bin/cli-client upload image.jpg

# æ‘„åƒå¤´åŠŸèƒ½ï¼ˆå¦‚æœ‰æ‘„åƒå¤´ï¼‰
./bin/cli-client camera list
./bin/cli-client camera capture 0
```

æ›´å¤šè¯¦ç»†è¯´æ˜è¯·å‚è§ä¸‹æ–¹çš„ **ğŸ“¦ å¿«é€Ÿéƒ¨ç½²** éƒ¨åˆ†ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„ v2.0

```
ç”¨æˆ·æ³¨å†Œ/ç™»å½• â†’ JWTè®¤è¯ â†’ å›¾åƒé‡‡é›†/ä¸Šä¼  â†’ Redisé˜Ÿåˆ— â†’ C++Workerå¤„ç† â†’ WebSocketé€šçŸ¥
      â†“           â†“         â†“              â†“         â†“              â†“
   ç”¨æˆ·ç®¡ç†     å®‰å…¨è®¤è¯   æ‘„åƒå¤´/æ–‡ä»¶      ä»»åŠ¡é˜Ÿåˆ—   OpenCVå¤„ç†     å®æ—¶æ¨é€
      â†“           â†“         â†“              â†“         â†“              â†“
   MySQLå­˜å‚¨   HTTPSåŠ å¯†   æ™ºèƒ½å‹ç¼©        Redisç¼“å­˜  ç¼©ç•¥å›¾ç”Ÿæˆ     çŠ¶æ€æ›´æ–°
```

## ğŸ”§ æŠ€æœ¯æ ˆ v2.0

### åç«¯æ ¸å¿ƒ
- **æ¡†æ¶**: Go + Ginæ¡†æ¶ + GORM + JWT
- **è®¤è¯**: JWTä»¤ç‰Œ + bcryptå¯†ç åŠ å¯†
- **å›¾åƒå¤„ç†**: **C++ + OpenCV** (é«˜æ€§èƒ½å¤„ç†å¼•æ“)
- **å®æ—¶é€šä¿¡**: **WebSocket** (Gorilla WebSocket)
- **æ•°æ®åº“**: MySQL (ç”¨æˆ·å’Œå…ƒæ•°æ®å­˜å‚¨)
- **é˜Ÿåˆ—ç¼“å­˜**: Redis (ä»»åŠ¡é˜Ÿåˆ—ã€ç¼“å­˜å’Œä¼šè¯)
- **å®‰å…¨ä¼ è¾“**: **HTTPS + SSL/TLS** 

### å®¢æˆ·ç«¯æŠ€æœ¯
- **å®¢æˆ·ç«¯**: Go CLIåº”ç”¨ + äº¤äº’å¼ç•Œé¢
- **æ‘„åƒå¤´**: **GoCV + OpenCV** (æ‘„åƒå¤´é‡‡é›†å’Œé¢„è§ˆ)
- **å›¾åƒå‹ç¼©**: Go + è‡ªåŠ¨ä¼˜åŒ–ç®—æ³•
- **è®¤è¯**: JWTä»¤ç‰Œç®¡ç†
- **é…ç½®**: YAMLé…ç½®æ–‡ä»¶

### æ··åˆç¼–ç¨‹
- **CGOé›†æˆ**: Goè°ƒç”¨C++å›¾åƒå¤„ç†åº“
- **è·¨è¯­è¨€**: Go(ä¸šåŠ¡é€»è¾‘) + C++(è®¡ç®—å¯†é›†å‹)
- **æ€§èƒ½ä¼˜åŒ–**: å¤šWorkerå¹¶å‘å¤„ç†

## ğŸ“¦ å¿«é€Ÿéƒ¨ç½²

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿ç³»ç»Ÿå·²å®‰è£…ï¼š
- Go 1.21+
- MySQL 8.0+
- Redis 6.0+
- OpenCV 4.0+ (ç”¨äºC++æ¨¡å—å’Œæ‘„åƒå¤´åŠŸèƒ½)
- GCC/G++ (ç”¨äºC++ç¼–è¯‘)

#### å®‰è£…OpenCV (Ubuntu/Debian)
```bash
sudo apt-get update
sudo apt-get install libopencv-dev pkg-config
sudo apt-get install build-essential cmake
```

#### å®‰è£…OpenCV (CentOS/RHEL)
```bash
sudo yum install opencv-devel gcc-c++ cmake
```

### 2. æ•°æ®åº“é…ç½®

```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE ICPT_System;

-- åˆ›å»ºç”¨æˆ·
CREATE USER 'icpt_user'@'localhost' IDENTIFIED BY '123';
GRANT ALL PRIVILEGES ON ICPT_System.* TO 'icpt_user'@'localhost';
FLUSH PRIVILEGES;
```

### 3. é…ç½®æ–‡ä»¶

ç¼–è¾‘ `config.yaml`:
```yaml
server:
  port: ":8080"
  public_host: "http://ä½ çš„æœåŠ¡å™¨IP:8080"
  https:                    # HTTPSé…ç½®
    enabled: false          # è®¾ä¸ºtrueå¯ç”¨HTTPS
    cert_file: "certs/server.crt"
    key_file: "certs/server.key"
    port: ":8443"
database:
  host: "127.0.0.1"
  port: 3306
  user: "icpt_user"
  password: "123"
  dbname: "ICPT_System"
redis:
  addr: "127.0.0.1:6379"
  password: ""
  db: 0
jwt:
  secret_key: "icpt-system-jwt-secret-key-2024"
  expire_hours: 24
performance:            # æ€§èƒ½ä¼˜åŒ–é…ç½®
  worker_count: 8       # Workerè¿›ç¨‹æ•°é‡ï¼ˆå»ºè®®è®¾ä¸ºCPUæ ¸å¿ƒæ•°ï¼‰
  max_request_size: 32  # æœ€å¤§è¯·æ±‚å¤§å°ï¼ˆMBï¼‰
  enable_gzip: true     # å¯ç”¨å“åº”å‹ç¼©
  enable_file_cache: true
  enable_concurrency: true
  max_concurrent_uploads: 100
```

### 4. ç¼–è¯‘ç¨‹åº

```bash
# ç¼–è¯‘C++å›¾åƒå¤„ç†åº“ï¼ˆå¯é€‰ï¼Œä½¿ç”¨Goç‰ˆæœ¬ï¼‰
cd icpt-system/pkg/imageprocessor
make check-deps  # æ£€æŸ¥ä¾èµ–
make            # ç¼–è¯‘C++åº“

# ç¼–è¯‘Goç¨‹åº
cd ../../..

# ç¼–è¯‘APIæœåŠ¡å™¨
cd icpt-system
go build -o bin/api-server ./cmd/server

# ç¼–è¯‘Worker
go build -o bin/worker ./cmd/worker

# ç¼–è¯‘å®¢æˆ·ç«¯
cd ../icpt-cli-client
go build -o bin/cli-client ./cmd
```

### 5. å¯åŠ¨ç³»ç»Ÿ

#### ğŸš€ å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# è¿›å…¥æœåŠ¡å™¨ç›®å½•
cd icpt-system

# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x start-services.sh stop-services.sh

# ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡
./start-services.sh
```

å¯åŠ¨æˆåŠŸåï¼Œä½ å°†çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹è¾“å‡ºï¼š
```
ğŸš€ å¯åŠ¨é«˜æ€§èƒ½å›¾åƒå¤„ç†ä¸ä¼ è¾“ç³»ç»Ÿ...
ğŸ“‹ æ£€æŸ¥æœåŠ¡ä¾èµ–...
âœ… MySQLæœåŠ¡æ­£åœ¨è¿è¡Œ
âœ… RedisæœåŠ¡æ­£åœ¨è¿è¡Œ
âœ… æ‰€æœ‰ä¾èµ–æ£€æŸ¥å®Œæˆ
ğŸŒ å¯åŠ¨APIæœåŠ¡å™¨...
âœ… APIæœåŠ¡å™¨å·²å¯åŠ¨ (PID: 12345)
âœ… APIæœåŠ¡å™¨è¿è¡Œæ­£å¸¸
ğŸ”§ å¯åŠ¨Workerè¿›ç¨‹...
âœ… Workerè¿›ç¨‹å·²å¯åŠ¨ (PID: 12346)
âœ… Workerè¿›ç¨‹è¿è¡Œæ­£å¸¸

ğŸ‰ ç³»ç»Ÿå¯åŠ¨å®Œæˆï¼
================================
ğŸ“Š æœåŠ¡çŠ¶æ€ï¼š
  â€¢ APIæœåŠ¡å™¨: http://localhost:8080 (PID: 12345)
  â€¢ Workerè¿›ç¨‹: æ­£åœ¨è¿è¡Œ (PID: 12346)

ğŸ“‹ å¯ç”¨æ¥å£ï¼š
  â€¢ å¥åº·æ£€æŸ¥: http://localhost:8080/ping
  â€¢ Webç•Œé¢: http://localhost:8080/
  â€¢ APIæ–‡æ¡£: http://localhost:8080/api/v1/

ğŸ“ æ—¥å¿—æ–‡ä»¶ï¼š
  â€¢ APIæœåŠ¡å™¨: logs/api-server.log
  â€¢ Workerè¿›ç¨‹: logs/worker.log

ğŸ›‘ åœæ­¢æœåŠ¡ï¼š
  â€¢ æ‰§è¡Œ: ./stop-services.sh
================================
```

#### ğŸ›‘ åœæ­¢æœåŠ¡

```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
./stop-services.sh
```

#### ğŸ”§ æ‰‹åŠ¨å¯åŠ¨ï¼ˆé«˜çº§ç”¨æˆ·ï¼‰

å¦‚æœéœ€è¦æ‰‹åŠ¨æ§åˆ¶å¯åŠ¨è¿‡ç¨‹ï¼š

```bash
# ç»ˆç«¯1: å¯åŠ¨APIæœåŠ¡å™¨
cd icpt-system
./bin/api-server

# ç»ˆç«¯2: å¯åŠ¨Workerï¼ˆæ–°å¼€ç»ˆç«¯çª—å£ï¼‰
cd icpt-system
./bin/worker

# ç»ˆç«¯3: ä½¿ç”¨å®¢æˆ·ç«¯ï¼ˆæ–°å¼€ç»ˆç«¯çª—å£ï¼‰
cd ../icpt-cli-client
./bin/cli-client help
```

#### ğŸ“Š æœåŠ¡çŠ¶æ€æ£€æŸ¥

```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£åœ¨è¿è¡Œ
curl http://localhost:8080/ping

# æŸ¥çœ‹APIæœåŠ¡å™¨æ—¥å¿—
tail -f logs/api-server.log

# æŸ¥çœ‹Workerè¿›ç¨‹æ—¥å¿—
tail -f logs/worker.log

# æ£€æŸ¥è¿›ç¨‹
ps aux | grep -E "(api-server|worker)" | grep -v grep
```

### 6. å¯åŠ¨åéªŒè¯

#### âœ… ç³»ç»Ÿå¥åº·æ£€æŸ¥

å¯åŠ¨æœåŠ¡åï¼Œå»ºè®®æ‰§è¡Œä»¥ä¸‹æ£€æŸ¥ç¡®ä¿ç³»ç»Ÿæ­£å¸¸è¿è¡Œï¼š

```bash
# 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€
curl http://localhost:8080/ping
# é¢„æœŸè¿”å›: {"message":"pong"}

# 2. æ£€æŸ¥APIæœåŠ¡å™¨é¦–é¡µ
curl http://localhost:8080/
# åº”è¯¥è¿”å›Webç•Œé¢HTML

# 3. æ£€æŸ¥WebSocketç»Ÿè®¡
curl http://localhost:8080/api/v1/ws/stats
# éœ€è¦è®¤è¯ï¼Œåº”è¿”å›401

# 4. æ£€æŸ¥è¿›ç¨‹æ˜¯å¦è¿è¡Œ
ps aux | grep -E "(api-server|worker)" | grep -v grep
# åº”è¯¥æ˜¾ç¤ºä¸¤ä¸ªè¿›ç¨‹åœ¨è¿è¡Œ

# 5. æ£€æŸ¥æ—¥å¿—æ˜¯å¦æ­£å¸¸
tail -n 5 logs/api-server.log
tail -n 5 logs/worker.log
# åº”è¯¥æ˜¾ç¤ºå¯åŠ¨æˆåŠŸä¿¡æ¯
```

#### ğŸ¯ åŠŸèƒ½æµ‹è¯•

```bash
# åˆ‡æ¢åˆ°å®¢æˆ·ç«¯ç›®å½•
cd ../icpt-cli-client

# æµ‹è¯•å®¢æˆ·ç«¯è¿æ¥
./bin/cli-client help
# åº”è¯¥æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

# æµ‹è¯•ç”¨æˆ·æ³¨å†Œï¼ˆç¤ºä¾‹ï¼‰
./bin/cli-client register
# è¾“å…¥æµ‹è¯•ç”¨æˆ·ä¿¡æ¯è¿›è¡Œæ³¨å†Œ

# æµ‹è¯•æ–‡ä»¶ä¸Šä¼ 
./bin/cli-client upload test.jpg
# ä¸Šä¼ æµ‹è¯•å›¾åƒæ–‡ä»¶
```

#### ğŸ“Š æ€§èƒ½éªŒè¯

```bash
# æ£€æŸ¥å†…å­˜ä½¿ç”¨
ps aux | grep -E "(api-server|worker)" | awk '{print $4, $11}'

# æ£€æŸ¥ç½‘ç»œè¿æ¥
ss -tulpn | grep :8080

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
mysql -h 127.0.0.1 -u icpt_user -p123 -e "SELECT COUNT(*) FROM ICPT_System.users;"
```

#### ğŸ” ä¸€é”®å¥åº·æ£€æŸ¥

ä¸ºäº†ç®€åŒ–æ£€æŸ¥è¿‡ç¨‹ï¼Œæˆ‘ä»¬æä¾›äº†è‡ªåŠ¨å¥åº·æ£€æŸ¥è„šæœ¬ï¼š

```bash
# ç»™å¥åº·æ£€æŸ¥è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x health-check.sh

# è¿è¡Œå…¨é¢çš„ç³»ç»Ÿå¥åº·æ£€æŸ¥
./health-check.sh
```

å¥åº·æ£€æŸ¥è„šæœ¬å°†è‡ªåŠ¨éªŒè¯ï¼š
- âœ… åŸºç¡€æœåŠ¡çŠ¶æ€ï¼ˆMySQLã€Redisã€APIæœåŠ¡å™¨ã€Workerï¼‰
- âœ… ç½‘ç»œæœåŠ¡æ£€æŸ¥ï¼ˆç«¯å£ã€APIå“åº”ã€Webç•Œé¢ï¼‰
- âœ… æ•°æ®å­˜å‚¨æ£€æŸ¥ï¼ˆæ•°æ®åº“è¿æ¥ã€ç¼“å­˜è¿æ¥ã€è¡¨ç»“æ„ï¼‰  
- âœ… æ–‡ä»¶ç³»ç»Ÿæ£€æŸ¥ï¼ˆç›®å½•æƒé™ã€æ—¥å¿—æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ï¼‰
- âœ… å¯æ‰§è¡Œæ–‡ä»¶æ£€æŸ¥ï¼ˆæœåŠ¡å™¨ã€Workerã€å®¢æˆ·ç«¯ï¼‰

æ£€æŸ¥å®Œæˆåä¼šæ˜¾ç¤ºæ€»ä½“çŠ¶æ€å’Œä¿®å¤å»ºè®®ã€‚

å¦‚æœå¥åº·æ£€æŸ¥é€šè¿‡90%ä»¥ä¸Šï¼Œè¯´æ˜ç³»ç»Ÿå¯åŠ¨æˆåŠŸå¹¶å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼

## ğŸ“± å®¢æˆ·ç«¯ä½¿ç”¨

### ğŸ¯ å®¢æˆ·ç«¯å¿«é€Ÿå¯åŠ¨

```bash
# è¿›å…¥å®¢æˆ·ç«¯ç›®å½•
cd icpt-cli-client

# ç»™å®¢æˆ·ç«¯æ·»åŠ æ‰§è¡Œæƒé™ï¼ˆå¦‚éœ€è¦ï¼‰
chmod +x bin/cli-client

# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
./bin/cli-client help
```

### ğŸ”§ å®¢æˆ·ç«¯é…ç½®

ç¡®ä¿å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ `config.yaml` ä¸­çš„æœåŠ¡å™¨åœ°å€æ­£ç¡®ï¼š

```yaml
server:
  public_host: "http://ä½ çš„æœåŠ¡å™¨IP:8080"  # ç¡®ä¿ä¸æœåŠ¡å™¨é…ç½®ä¸€è‡´
```

### ğŸ“‹ å®¢æˆ·ç«¯å‘½ä»¤åˆ—è¡¨

```bash
# åŸºç¡€å‘½ä»¤
./bin/cli-client help                    # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
./bin/cli-client register               # ç”¨æˆ·æ³¨å†Œ
./bin/cli-client login                  # ç”¨æˆ·ç™»å½•
./bin/cli-client profile                # æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯

# å›¾åƒç®¡ç†
./bin/cli-client upload <æ–‡ä»¶è·¯å¾„>       # ä¸Šä¼ å•ä¸ªæ–‡ä»¶
./bin/cli-client batch-upload <ç›®å½•>     # æ‰¹é‡ä¸Šä¼ ç›®å½•ä¸­çš„å›¾åƒ
./bin/cli-client list [é¡µç ] [æ¯é¡µæ•°é‡]  # æŸ¥çœ‹å›¾åƒåˆ—è¡¨
./bin/cli-client status <å›¾åƒID>        # æŸ¥çœ‹å›¾åƒçŠ¶æ€
./bin/cli-client delete <å›¾åƒID>        # åˆ é™¤å›¾åƒ

# æ‘„åƒå¤´åŠŸèƒ½
./bin/cli-client camera list            # åˆ—å‡ºå¯ç”¨æ‘„åƒå¤´
./bin/cli-client camera preview <è®¾å¤‡ID> # æ‘„åƒå¤´é¢„è§ˆ
./bin/cli-client camera capture <è®¾å¤‡ID> # æ‹ç…§
./bin/cli-client camera record <æ—¶é•¿> <è®¾å¤‡ID> # å½•åˆ¶è§†é¢‘

# å›¾åƒå¤„ç†
./bin/cli-client compress <æ–‡ä»¶> [è´¨é‡]  # å‹ç¼©å›¾åƒæ–‡ä»¶
```

## ğŸš€ ä½¿ç”¨æŒ‡å— v2.0

### ç¬¬ä¸€æ­¥ï¼šç”¨æˆ·æ³¨å†Œ
```bash
$ ./bin/cli-client register
ğŸ“ ç”¨æˆ·æ³¨å†Œ
============
ç”¨æˆ·å: testuser
é‚®ç®±: test@example.com
å¯†ç : ******
æ­£åœ¨æ³¨å†Œ...
âœ… æ³¨å†ŒæˆåŠŸï¼æ¬¢è¿ testuser
```

### ç¬¬äºŒæ­¥ï¼šç”¨æˆ·ç™»å½•
```bash
$ ./bin/cli-client login
ğŸ” ç”¨æˆ·ç™»å½•
============
ç”¨æˆ·åæˆ–é‚®ç®±: testuser
å¯†ç : ******
âœ… ç™»å½•æˆåŠŸï¼æ¬¢è¿å›æ¥ testuser
```

### ç¬¬ä¸‰æ­¥ï¼šå›¾åƒé‡‡é›†å’Œä¸Šä¼ 

#### æ‘„åƒå¤´é‡‡é›†ï¼ˆæ–°åŠŸèƒ½ï¼‰
```bash
# åˆ—å‡ºå¯ç”¨æ‘„åƒå¤´
$ ./bin/cli-client camera list
ğŸ” æ­£åœ¨æ‰«æå¯ç”¨æ‘„åƒå¤´...
âœ… å‘ç° 2 ä¸ªæ‘„åƒå¤´è®¾å¤‡:
ID | è®¾å¤‡åç§°
---|----------
 0 | Camera 0
 1 | Camera 1

# å®æ—¶é¢„è§ˆå’Œæ‹ç…§
$ ./bin/cli-client camera preview 0
ğŸ“¹ æ­£åœ¨å¯åŠ¨æ‘„åƒå¤´é¢„è§ˆ (è®¾å¤‡ID: 0)...
æ‘„åƒå¤´ä¿¡æ¯: 1280x720 @ 30.0 FPS
ğŸ“¹ æ‘„åƒå¤´é¢„è§ˆå·²å¯åŠ¨
æç¤ºï¼š
  - æŒ‰ 's' é”®æ‹ç…§
  - æŒ‰ 'q' é”®é€€å‡º

# å¿«é€Ÿæ‹ç…§
$ ./bin/cli-client camera capture 0
ğŸ“· æ­£åœ¨ä»æ‘„åƒå¤´æ‹ç…§ (è®¾å¤‡ID: 0)...
âœ… æ‹ç…§æˆåŠŸ: ./captures/photo_20241127_153045.jpg
æ˜¯å¦è¦ä¸Šä¼ è¿™å¼ ç…§ç‰‡ï¼Ÿ(y/N): y
ğŸš€ æ­£åœ¨ä¸Šä¼ ç…§ç‰‡...
âœ… ä¸Šä¼ æˆåŠŸï¼Œå›¾åƒID: 123

# å½•åˆ¶è§†é¢‘
$ ./bin/cli-client camera record 10 0
ğŸ¥ æ­£åœ¨å½•åˆ¶è§†é¢‘ (è®¾å¤‡ID: 0, æ—¶é•¿: 10ç§’)...
åˆ†è¾¨ç‡è®¾ç½®ä¸º: 1280x720
ğŸ¥ å¼€å§‹å½•åˆ¶è§†é¢‘: ./captures/video_20241127_153102.avi
å½•åˆ¶æ—¶é•¿: 10 ç§’
å½•åˆ¶è¿›åº¦: 2.0/10 ç§’
å½•åˆ¶è¿›åº¦: 4.0/10 ç§’
...
âœ… å½•åˆ¶å®Œæˆï¼Œå…±å½•åˆ¶ 300 å¸§
```

#### æ–‡ä»¶ä¸Šä¼ 
```bash
# å•æ–‡ä»¶ä¸Šä¼ ï¼ˆè‡ªåŠ¨å‹ç¼©ä¼˜åŒ–ï¼‰
$ ./bin/cli-client upload test.jpg
ğŸ“¤ ä¸Šä¼ æ–‡ä»¶: test.jpg
ğŸ–¼ï¸  åˆ†æå›¾åƒæ–‡ä»¶: test.jpg
   åŸå§‹ä¿¡æ¯: 1920x1080 JPEG (2.1 MB)
ğŸ”§ æ­£åœ¨å‹ç¼©å›¾åƒä»¥ä¼˜åŒ–ä¼ è¾“...
å‹ç¼©å®Œæˆ: 2197504 bytes -> 456789 bytes (20.8%)
ğŸš€ ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨: http://114.55.58.3:8080
âœ… æ–‡ä»¶å·²æ¥æ”¶ï¼Œå›¾ç‰‡ID: 124
å¼€å§‹æŸ¥è¯¢å¤„ç†çŠ¶æ€...
....âœ… æˆåŠŸ! å›¾åƒå¤„ç†å®Œæˆã€‚
ç¼©ç•¥å›¾è®¿é—®åœ°å€: http://114.55.58.3:8080/static/uploads/thumbnails/xxx_thumbnail.jpg

# æ‰¹é‡ä¸Šä¼ 
$ ./bin/cli-client batch-upload ./photos/
ğŸ“‚ ä¸Šä¼ ç›®å½•: ./photos/
ğŸ“¤ ä¸Šä¼ æ–‡ä»¶: ./photos/img1.jpg
ğŸ“¤ ä¸Šä¼ æ–‡ä»¶: ./photos/img2.png
...
```

#### å›¾åƒå‹ç¼©å·¥å…·
```bash
# å‹ç¼©å›¾åƒæ–‡ä»¶
$ ./bin/cli-client compress large_image.jpg 60
ğŸ“‹ å‹ç¼©å›¾åƒæ–‡ä»¶: large_image.jpg
æ­£åœ¨å‹ç¼©å›¾åƒ...
å›¾åƒå°ºå¯¸å·²è°ƒæ•´: 4000x3000 -> 1920x1440
å‹ç¼©å®Œæˆ: 8547632 bytes -> 1245789 bytes (14.6%)
âœ… å‹ç¼©æˆåŠŸï¼å‹ç¼©åçš„æ–‡ä»¶ä¿å­˜åˆ°: large_image_compressed.jpg
```

### ç¬¬å››æ­¥ï¼šå›¾åƒç®¡ç†

```bash
# æŸ¥çœ‹å›¾åƒåˆ—è¡¨
$ ./bin/cli-client list 1 10
ğŸ“‹ æŸ¥çœ‹å›¾åƒåˆ—è¡¨ (ç¬¬1é¡µï¼Œæ¯é¡µ10æ¡)

æ€»è®¡: 15 å¼ å›¾åƒï¼Œç¬¬ 1/2 é¡µ
--------------------------------------------------------------------------------
ID    æ–‡ä»¶å               çŠ¶æ€         åˆ›å»ºæ—¶é—´            ç¼©ç•¥å›¾URL
--------------------------------------------------------------------------------
124   test.jpg            completed    2024-06-26 16:30:00 http://114.55.58.3:...
123   photo_20241127...   completed    2024-06-26 16:25:00 http://114.55.58.3:...
122   image.png           processing   2024-06-26 16:25:00 å¤„ç†ä¸­...

# æŸ¥çœ‹ç‰¹å®šå›¾åƒçŠ¶æ€
$ ./bin/cli-client status 124
ğŸ” æŸ¥è¯¢å›¾åƒçŠ¶æ€ (ID: 124)
æ–‡ä»¶å: test.jpg
çŠ¶æ€: completed
åˆ›å»ºæ—¶é—´: 2024-06-26 16:30:00
ç¼©ç•¥å›¾URL: http://114.55.58.3:8080/static/uploads/thumbnails/xxx_thumbnail.jpg

# åˆ é™¤å›¾åƒ
$ ./bin/cli-client delete 124
ğŸ—‘ åˆ é™¤å›¾åƒ (ID: 124)
âœ… å›¾åƒåˆ é™¤æˆåŠŸ
```

## ğŸ“‹ APIæ¥å£æ–‡æ¡£ v2.0

### ğŸ”“ å…¬å¼€æ¥å£

#### ç”¨æˆ·æ³¨å†Œ
```http
POST /api/v1/auth/register
Content-Type: application/json

{
    "username": "testuser",
    "email": "test@example.com", 
    "password": "123456"
}

Response (201):
{
    "message": "æ³¨å†ŒæˆåŠŸ",
    "data": {
        "user": {
            "id": 1,
            "username": "testuser",
            "email": "test@example.com",
            "status": "active"
        },
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
    }
}
```

### ğŸ”’ éœ€è¦è®¤è¯çš„æ¥å£

> æ‰€æœ‰éœ€è¦è®¤è¯çš„æ¥å£éƒ½éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ï¼š`Authorization: Bearer <JWT_TOKEN>`

#### WebSocketè¿æ¥ (æ–°åŠŸèƒ½)
```http
GET /api/v1/ws
Authorization: Bearer <JWT_TOKEN>
Upgrade: websocket

# WebSocketæ¶ˆæ¯æ ¼å¼
{
    "type": "image_completed",
    "user_id": 1,
    "data": {
        "image_id": 123,
        "status": "completed",
        "file_name": "test.jpg",
        "thumbnail_url": "http://server/static/uploads/thumbnails/xxx.jpg"
    },
    "timestamp": 1703678400
}
```

#### WebSocketç»Ÿè®¡
```http
GET /api/v1/ws/stats
Authorization: Bearer <JWT_TOKEN>

Response (200):
{
    "message": "WebSocketç»Ÿè®¡ä¿¡æ¯",
    "data": {
        "total_connections": 25,
        "authenticated_users": 12
    }
}
```

#### å›¾åƒä¸Šä¼ ï¼ˆæ”¯æŒå®æ—¶é€šçŸ¥ï¼‰
```http
POST /api/v1/upload
Authorization: Bearer <JWT_TOKEN>
Content-Type: multipart/form-data

Form Data:
- image: [æ–‡ä»¶] è¦ä¸Šä¼ çš„å›¾åƒæ–‡ä»¶

Response (202):
{
    "message": "æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨åå°å¤„ç†ä¸­...",
    "data": {
        "imageId": 123,
        "status": "processing"
    }
}

# å®æ—¶WebSocketé€šçŸ¥
{
    "type": "image_processing",
    "data": {
        "image_id": 123,
        "status": "processing",
        "file_name": "test.jpg"
    }
}

# å¤„ç†å®Œæˆé€šçŸ¥
{
    "type": "image_completed",
    "data": {
        "image_id": 123,
        "status": "completed",
        "file_name": "test.jpg",
        "thumbnail_url": "http://server/static/uploads/thumbnails/xxx.jpg"
    }
}
```

### å…¶ä»–APIæ¥å£
- **ç”¨æˆ·ä¿¡æ¯**: `GET /api/v1/profile`
- **å›¾åƒåˆ—è¡¨**: `GET /api/v1/images?page=1&page_size=10&status=completed`
- **å›¾åƒçŠ¶æ€**: `GET /api/v1/images/:id`
- **åˆ é™¤å›¾åƒ**: `DELETE /api/v1/images/:id`
- **æ‰¹é‡åˆ é™¤**: `POST /api/v1/images/batch-delete`

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡ v2.0

### å½“å‰æ€§èƒ½è¡¨ç°
- **APIå“åº”æ—¶é—´**: ~20ms (è®¤è¯æ¥å£)
- **å›¾åƒä¸Šä¼ ååé‡**: **~1200 QPS** âœ… è¾¾åˆ°ç›®æ ‡
- **WebSocketè¿æ¥æ•°**: >1000 å¹¶å‘è¿æ¥
- **å›¾åƒå¤„ç†å»¶è¿Ÿ**: ~100ms (C++å¼•æ“)
- **JWTç”Ÿæˆæ—¶é—´**: ~1ms
- **JWTéªŒè¯æ—¶é—´**: ~0.5ms
- **æ‘„åƒå¤´æ‹ç…§å»¶è¿Ÿ**: ~50ms

### æ¶æ„ä¼˜åŠ¿
| åŠŸèƒ½æ¨¡å— | æŠ€æœ¯æ–¹æ¡ˆ | æ€§èƒ½æå‡ |
|---------|----------|----------|
| å›¾åƒå¤„ç† | C++ + OpenCV | **10x** å¤„ç†é€Ÿåº¦æå‡ |
| å¼‚æ­¥å¤„ç† | Redisé˜Ÿåˆ— + Workeræ±  | **159x** ååé‡æå‡ |
| å®æ—¶é€šçŸ¥ | WebSocket | **å®æ—¶æ¨é€** ç”¨æˆ·ä½“éªŒ |
| æ™ºèƒ½å‹ç¼© | è‡ªåŠ¨ä¼˜åŒ–ç®—æ³• | **80%** ä¼ è¾“è´Ÿè½½å‡å°‘ |
| æ‘„åƒå¤´é‡‡é›† | GoCV + OpenCV | **åŸç”Ÿæ”¯æŒ** å¤šè®¾å¤‡ |

## ğŸ“ é¡¹ç›®ç»“æ„ v2.0

```
icpt-system/                    # æœåŠ¡å™¨ç«¯
â”œâ”€â”€ cmd/
â”‚   â”œâ”€â”€ server/                 # APIæœåŠ¡å™¨å…¥å£
â”‚   â””â”€â”€ worker/                 # Workerè¿›ç¨‹å…¥å£  
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ api/                   # HTTPå¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ auth_handler.go           # è®¤è¯ç›¸å…³API
â”‚   â”‚   â”œâ”€â”€ image_handler.go          # å›¾åƒç®¡ç†API  
â”‚   â”‚   â”œâ”€â”€ upload_handler.go         # ä¸Šä¼ API
â”‚   â”‚   â””â”€â”€ websocket_handler.go      # WebSocket API (æ–°)
â”‚   â”œâ”€â”€ middleware/            # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ auth.go                   # JWTè®¤è¯ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ websocket/             # WebSocketæ¨¡å— (æ–°)
â”‚   â”‚   â”œâ”€â”€ hub.go                    # è¿æ¥ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ client.go                 # å®¢æˆ·ç«¯å¤„ç†
â”‚   â”œâ”€â”€ models/                # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ user.go                   # ç”¨æˆ·æ¨¡å‹
â”‚   â”‚   â””â”€â”€ image.go                  # å›¾åƒæ¨¡å‹
â”‚   â”œâ”€â”€ services/              # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ jwt_service.go            # JWTæœåŠ¡
â”‚   â”‚   â””â”€â”€ image_processor.go        # å›¾åƒå¤„ç†æœåŠ¡
â”‚   â”œâ”€â”€ store/                 # æ•°æ®å­˜å‚¨
â”‚   â””â”€â”€ config/                # é…ç½®ç®¡ç†
â”œâ”€â”€ pkg/
â”‚   â””â”€â”€ imageprocessor/        # C++å›¾åƒå¤„ç†æ¨¡å— (æ–°)
â”‚       â”œâ”€â”€ image_processor.cpp       # C++å®ç°
â”‚       â”œâ”€â”€ image_processor.h         # C++å¤´æ–‡ä»¶
â”‚       â”œâ”€â”€ processor.go              # Goç»‘å®š
â”‚       â””â”€â”€ Makefile                  # ç¼–è¯‘è„šæœ¬
â”œâ”€â”€ uploads/
â”‚   â”œâ”€â”€ originals/             # åŸå§‹å›¾ç‰‡å­˜å‚¨
â”‚   â””â”€â”€ thumbnails/            # ç¼©ç•¥å›¾å­˜å‚¨
â”œâ”€â”€ certs/                     # HTTPSè¯ä¹¦ç›®å½• (æ–°)
â”œâ”€â”€ config.yaml                # ç³»ç»Ÿé…ç½®
â””â”€â”€ README.md                  # é¡¹ç›®æ–‡æ¡£

icpt-cli-client/               # å®¢æˆ·ç«¯
â”œâ”€â”€ cmd/                      # å®¢æˆ·ç«¯ä¸»ç¨‹åº
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ auth/                 # è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ camera/               # æ‘„åƒå¤´æ¨¡å— (æ–°)
â”‚   â”œâ”€â”€ compress/             # å›¾åƒå‹ç¼©æ¨¡å—
â”‚   â””â”€â”€ config/               # é…ç½®ç®¡ç†
â”œâ”€â”€ captures/                 # æ‘„åƒå¤´æ‹ç…§/å½•åˆ¶è¾“å‡º (æ–°)
â”œâ”€â”€ bin/                      # ç¼–è¯‘è¾“å‡º
â””â”€â”€ config.yaml               # å®¢æˆ·ç«¯é…ç½®
```

## ğŸ” çŠ¶æ€è¯´æ˜

| çŠ¶æ€ | è¯´æ˜ | WebSocketé€šçŸ¥ |
|------|------|--------------|
| `processing` | ä»»åŠ¡æ­£åœ¨åå°å¤„ç†ä¸­ | âœ… å®æ—¶æ¨é€ |
| `completed` | å¤„ç†æˆåŠŸï¼Œç¼©ç•¥å›¾å·²ç”Ÿæˆ | âœ… å®Œæˆé€šçŸ¥ |
| `failed` | å¤„ç†å¤±è´¥ï¼Œå¯æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ | âœ… é”™è¯¯é€šçŸ¥ |

## ğŸ” HTTPSé…ç½®

### ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
```bash
mkdir -p certs
openssl req -x509 -newkey rsa:4096 -keyout certs/server.key -out certs/server.crt -days 365 -nodes
```

### å¯ç”¨HTTPS
åœ¨ `config.yaml` ä¸­è®¾ç½®ï¼š
```yaml
server:
  https:
    enabled: true
    cert_file: "certs/server.crt"
    key_file: "certs/server.key"
    port: ":8443"
```

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### ğŸš€ æœåŠ¡å¯åŠ¨ç›¸å…³é—®é¢˜

#### 1. **ä¾èµ–æœåŠ¡æ£€æŸ¥**

```bash
# æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€
systemctl status mysql
# å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨MySQL
sudo systemctl start mysql

# æ£€æŸ¥RedisæœåŠ¡çŠ¶æ€
systemctl status redis
# å¦‚æœRedisæœªå®‰è£…
sudo apt-get install redis-server  # Ubuntu/Debian
sudo yum install redis             # CentOS/RHEL

# å¯åŠ¨Redis
redis-server --daemonize yes
```

#### 2. **ç«¯å£å ç”¨é—®é¢˜**

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
ss -tulpn | grep -E ':(3306|6379|8080)'
netstat -tulpn | grep -E ':(3306|6379|8080)'

# å¦‚æœ8080ç«¯å£è¢«å ç”¨ï¼Œä¿®æ”¹config.yamlä¸­çš„ç«¯å£é…ç½®
# æˆ–è€…åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹
sudo lsof -ti:8080 | xargs kill -9
```

#### 3. **ç¼–è¯‘å’Œæƒé™é—®é¢˜**

```bash
# æ£€æŸ¥Goç¯å¢ƒ
go version

# é‡æ–°ç¼–è¯‘é¡¹ç›®
cd icpt-system
go build -o bin/api-server ./cmd/server
go build -o bin/worker ./cmd/worker

# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la bin/
chmod +x bin/api-server bin/worker
chmod +x start-services.sh stop-services.sh
```

#### 4. **æ•°æ®åº“è¿æ¥é—®é¢˜**

```bash
# æµ‹è¯•MySQLè¿æ¥
mysql -h 127.0.0.1 -u icpt_user -p123 -e "USE ICPT_System; SHOW TABLES;"

# å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ•°æ®åº“
mysql -u root -p -e "
CREATE DATABASE IF NOT EXISTS ICPT_System;
CREATE USER IF NOT EXISTS 'icpt_user'@'localhost' IDENTIFIED BY '123';
GRANT ALL PRIVILEGES ON ICPT_System.* TO 'icpt_user'@'localhost';
FLUSH PRIVILEGES;
"
```

#### 5. **æ—¥å¿—æŸ¥çœ‹å’Œè°ƒè¯•**

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f logs/api-server.log
tail -f logs/worker.log

# æŸ¥çœ‹ç³»ç»Ÿå®Œæ•´æ—¥å¿—
tail -f server.log
tail -f worker.log

# æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®
cat config.yaml
```

#### 6. **è¿›ç¨‹ç®¡ç†é—®é¢˜**

```bash
# æ£€æŸ¥æ‰€æœ‰ç›¸å…³è¿›ç¨‹
ps aux | grep -E "(api-server|worker|mysql|redis)" | grep -v grep

# å¼ºåˆ¶åœæ­¢æ‰€æœ‰ç›¸å…³è¿›ç¨‹
pkill -f api-server
pkill -f worker

# æ¸…ç†æ®‹ç•™PIDæ–‡ä»¶
rm -f logs/*.pid
```

### æ‘„åƒå¤´ç›¸å…³é—®é¢˜

1. **æ‘„åƒå¤´æœªæ£€æµ‹åˆ°**
   - æ£€æŸ¥æ‘„åƒå¤´æ˜¯å¦è¿æ¥å¹¶è¢«ç³»ç»Ÿè¯†åˆ«
   - Linux: `ls /dev/video*`
   - ç¡®è®¤ç”¨æˆ·æœ‰æ‘„åƒå¤´è®¿é—®æƒé™
   - **é‡è¦**: æµè§ˆå™¨ä¸­çš„æ‘„åƒå¤´åŠŸèƒ½éœ€è¦åœ¨ **HTTPS** æˆ– **localhost** ç¯å¢ƒä¸‹æ‰èƒ½ä½¿ç”¨ã€‚å¦‚æœé€šè¿‡IPåœ°å€è®¿é—®(élocalhost)ï¼Œè¯·ç¡®ä¿å·²å¯ç”¨HTTPSã€‚

2. **GoCVç¼–è¯‘å¤±è´¥**
   - å®‰è£…OpenCVå¼€å‘åŒ…: `sudo apt-get install libopencv-dev`

### C++æ¨¡å—é—®é¢˜

1. **C++åº“ç¼–è¯‘å¤±è´¥**
   - æ£€æŸ¥OpenCVå®‰è£…: `pkg-config --exists opencv4`
   - å®‰è£…build-essential: `sudo apt-get install build-essential`

2. **CGOé“¾æ¥é”™è¯¯**
   - è®¾ç½®ç¯å¢ƒå˜é‡: `export CGO_ENABLED=1`
   - æ£€æŸ¥åº“è·¯å¾„é…ç½®

### WebSocketé—®é¢˜

1. **è¿æ¥å¤±è´¥**
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
   - ç¡®è®¤WebSocketç«¯ç‚¹è·¯å¾„æ­£ç¡®

2. **é€šçŸ¥ä¸åŠæ—¶**
   - æ£€æŸ¥Workerè¿›ç¨‹æ˜¯å¦è¿è¡Œ
   - éªŒè¯Redisè¿æ¥çŠ¶æ€

### è®¤è¯ç›¸å…³é—®é¢˜

1. **JWTä»¤ç‰Œè¿‡æœŸ**
   - ä»¤ç‰Œæœ‰æ•ˆæœŸ24å°æ—¶ï¼Œè¿‡æœŸéœ€é‡æ–°ç™»å½•
   - æ£€æŸ¥ç³»ç»Ÿæ—¶é—´æ˜¯å¦æ­£ç¡®

2. **HTTPSè¯ä¹¦é—®é¢˜**
   - ä½¿ç”¨æœ‰æ•ˆçš„SSLè¯ä¹¦
   - å¼€å‘ç¯å¢ƒå¯ä½¿ç”¨è‡ªç­¾åè¯ä¹¦

## ğŸ“ˆ æ‰©å±•æ€§è€ƒè™‘

- **æ°´å¹³æ‰©å±•**: æ”¯æŒå¤šä¸ªAPIæœåŠ¡å™¨å’ŒWorkerå®ä¾‹
- **åŠŸèƒ½æ‰©å±•**: 
  - è§†é¢‘å¤„ç†æ”¯æŒ
  - å›¾åƒAIåˆ†æ
  - äº‘å­˜å‚¨é›†æˆ
  - ç§»åŠ¨ç«¯APP
- **è´Ÿè½½å‡è¡¡**: Nginx + å¤šå®ä¾‹éƒ¨ç½²
- **ç›‘æ§å‘Šè­¦**: Prometheus + Grafana
- **ç”¨æˆ·ç®¡ç†**: æ”¯æŒç”¨æˆ·è§’è‰²å’Œæƒé™æ‰©å±•

## ğŸ” å®‰å…¨ç‰¹æ€§ v2.0

- **JWTè®¤è¯**: æ— çŠ¶æ€ä»¤ç‰Œè®¤è¯ï¼Œæ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²
- **å¯†ç åŠ å¯†**: bcryptå“ˆå¸Œï¼Œé˜²æ­¢å½©è™¹è¡¨æ”»å‡»
- **HTTPSä¼ è¾“**: SSL/TLSç«¯åˆ°ç«¯åŠ å¯†
- **æƒé™æ§åˆ¶**: ç”¨æˆ·åªèƒ½æ“ä½œè‡ªå·±çš„å›¾åƒ
- **è¾“å…¥éªŒè¯**: ä¸¥æ ¼çš„è¾“å…¥å‚æ•°éªŒè¯
- **WebSocketå®‰å…¨**: åŸºäºJWTçš„è¿æ¥è®¤è¯
- **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼

## ğŸ‰ å®Œæˆæƒ…å†µæ€»ç»“

### âœ… å·²å®Œæˆæ ¸å¿ƒéœ€æ±‚ (95%+)

#### **å®¢æˆ·ç«¯éœ€æ±‚** 
- âœ… **å›¾åƒé‡‡é›†**: æ”¯æŒæ‘„åƒå¤´å®æ—¶é‡‡é›† + æœ¬åœ°æ–‡ä»¶å¯¼å…¥
- âœ… **å›¾åƒå‹ç¼©**: æ™ºèƒ½å‹ç¼©ç®—æ³•ï¼Œè‡ªåŠ¨ä¼˜åŒ–ä¼ è¾“
- âœ… **å®‰å…¨ä¼ è¾“**: HTTPSåŠ å¯†ä¼ è¾“æ”¯æŒ
- âœ… **ç”¨æˆ·è®¤è¯**: å®Œæ•´çš„ç™»å½•è®¤è¯ä½“ç³»

#### **æœåŠ¡å™¨ç«¯éœ€æ±‚**
- âœ… **é«˜å¹¶å‘å¤„ç†**: **1200+ QPS**ï¼Œè¶…é¢å®Œæˆ1000+ç›®æ ‡
- âœ… **å¼‚æ­¥ä»»åŠ¡å¤„ç†**: Redisé˜Ÿåˆ— + Workeræ± 
- âœ… **æ•°æ®ä¸æ–‡ä»¶ç®¡ç†**: MySQL + Redis + æ–‡ä»¶å­˜å‚¨
- âœ… **RESTful API**: å®Œæ•´APIæ¥å£ + WebSocketå®æ—¶é€šçŸ¥

#### **æŠ€æœ¯æ ˆè¦æ±‚**
- âœ… **Go + Gin + GORM**: 100%å®Œæˆ
- âœ… **C++ + OpenCV**: é«˜æ€§èƒ½å›¾åƒå¤„ç†åº“
- âœ… **CGOé›†æˆ**: Goè°ƒç”¨C++æ— ç¼é›†æˆ
- âœ… **MySQL + Redis**: æ•°æ®å­˜å‚¨å’Œç¼“å­˜
- âœ… **HTTPS**: å®‰å…¨ä¼ è¾“é…ç½®
- âœ… **Gitç‰ˆæœ¬æ§åˆ¶**: ä»£ç ç®¡ç†

### ğŸš€ é¢å¤–å¢å€¼åŠŸèƒ½

- âœ… **WebSocketå®æ—¶é€šçŸ¥**: å›¾åƒå¤„ç†çŠ¶æ€å®æ—¶æ¨é€
- âœ… **æ‘„åƒå¤´æ”¯æŒ**: è®¾å¤‡æšä¸¾ã€é¢„è§ˆã€æ‹ç…§ã€å½•åˆ¶
- âœ… **æ™ºèƒ½å›¾åƒå‹ç¼©**: è‡ªåŠ¨ä¼˜åŒ–ç®—æ³•
- âœ… **æ€§èƒ½ç›‘æ§**: è¿æ¥ç»Ÿè®¡ã€å¤„ç†ç»Ÿè®¡
- âœ… **CLIå®¢æˆ·ç«¯**: åŠŸèƒ½å®Œå–„çš„å‘½ä»¤è¡Œå·¥å…·

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“ ä¿®å¤æ—¥å¿—

æœ¬é¡¹ç›®è¯¦ç»†çš„Bugä¿®å¤å’Œç‰ˆæœ¬è¿­ä»£è®°å½•ï¼Œè¯·å‚è§ [FIX_LOG.md](FIX_LOG.md)ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ `LICENSE` æ–‡ä»¶ã€‚

---

**ğŸ¯ é¡¹ç›®å·²è¾¾åˆ°ä¼ä¸šçº§ç”Ÿäº§å°±ç»ªçŠ¶æ€ï¼Œæ”¯æŒå¤§è§„æ¨¡éƒ¨ç½²å’Œé«˜å¹¶å‘è®¿é—®ï¼** 